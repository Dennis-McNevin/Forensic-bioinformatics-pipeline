<head>
	<title>MPS Forensics Browser</title>
</head>

<body>
	{{>menu}}
	<div class ="SNP_STR_viewer"> <!-- 5. Put a block-level element <div> inside the body to take up the full width available-->
			      <!-- Stretch the SNP snd STR result out to the either side as far as it can  -->
		{{> Template.dynamic template=currentViz}}
	</div>
</body>

<template name="menu">
<!-- 2. navbar sits on top of the page as we scroll down -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <!-- a navigation bar to the top of the page -->
    <div class="navbar-header">
	<a class="navbar-brand" href="#">MPS Forensics</a> <!-- Adding images by the class navbar-brand, see .css -->
    </div>
    <div class="row" id="filter">
	{{#autoForm id="currentViewForm" collection="CurrentView" schema=Schemas.CurrentView}}
	<form>
		<div class="form-group col-md-6 col-sm-6 col-xs-3">
			{{> afQuickField id="sampleSelect" name="sample" template="bootstrap3-horizontal" type="selectize" label-class="sr-only"}}
		</div>
		<div class="form-group col-md-3 col-sm-3 col-xs-3">
			{{> afQuickField id="layoutSelect" name="layout" template="bootstrap3-horizontal" type="selectize" label-class="sr-only"}}
		</div>
	</form>
	{{/autoForm}}
    </div>
</nav>
</template>
	


<template name="home">
</template>

<template name="notes">
	{{#autoForm id="notesForm" collection="Notes"}}
		{{> afQuickField name="notes"}}
	{{/autoForm}}
</template>

<template name="lobstr">
	<div id="containerChart0" class="STRchart"></div> <!-- 7. working on STR charts, style="min-width: 300px; height: 250px;" (original) -->
	<div id="containerChart1" class="STRchart"></div> <!-- 7. Build a class to control the style in css-->
	<div id="containerChart2" class="STRchart"></div> 
	<div id="containerChart3" class="STRchart"></div>
	<div id="containerChart4" class="STRchart"></div>
	<div id="containerChart5" class="STRchart"></div>
	<div id="containerChart6" class="STRchart"></div>
	<div id="containerChart7" class="STRchart"></div>
	<div> {{>notes}} </div>
</template>

<template name="snptable">
	<div class="inner" style="width:100%">
	<table class="table table-bordered" id="SNPtable" align="center"> <!-- 6. Add border on all sides of SNP table cells -->
	<tbody>
	<tr> <!--<tr> tag defines a row in an HTML table -->
	{{#each snps}}
		<td>
			<!-- rsID -->
			<!--<a target="_blank" href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?searchType=adhoc_search&type=rs&rs={{rsid}}">{{rsid}}</a><br/> -->
			<a href="#" class="linkage-to-igv">{{rsid}}</a><br/> <!-- 4. Add the linkage of SNP to IGV -->
			<!-- SNP genotypes -->
			<strong style="font-size:35px;">
				<!-- 1. Add reference and alternative allele info above the graph.-->
				<!-- 1. Set a data-placement attribute as "auto" to let the browser decide the position of the popover -->
				<a id="{{rsid}}" href="#" data-toggle="popover" data-placement="auto" data-content="<div>Reference allele: {{ref}}<br/>Alternative allele: {{alt}}</div><br/><div id='{{rsid}}con' style='min-width:300px; height:300px'></div>" title="{{rsid}}" ref="{{ref}}" refC="{{refCount}}" alt="{{alt}}" altC="{{altCount}}">{{geno1}} {{geno2}}</a>
			</strong>
		</td>
	{{/each}}
	</tr>
	</tbody>
	</table>
	</div>
	<div>
		{{>notes}}
	</div>
</template>

<!-- not used in .JS -->
<template name="strchart"> 
	<div class="containerChartStr" style="min-width: 400px; height: 400px;"></div>
	{{>notes}}
</template>
