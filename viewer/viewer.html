<head>
	<title>MPS Forensics Browser</title>
</head>

<body>
	{{>menu}}
	<div class ="SNP_STR_viewer"> <!-- 5. Put a block-level element <div> inside the body to take up the full width available-->
			      <!-- Stretch the SNP snd STR result out to the either side as far as it can  -->
	{{#if currentUser}} <!-- To check whether the user is logged in -->
		{{> Template.dynamic template=currentViz}}
	{{/if}}
	</div>
</body>

<template name="menu">
<!-- 2. navbar sits on top of the page as we scroll down -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation"> <!-- a navigation bar to the top of the page -->
	<form id="menuForm" class="form-inline" role="form"> <!-- Create an inline form with three input fields -->
	<div class="navbar-header"> 
		<!-- custom insert form-->
		{{#autoForm id="currentViewForm" collection="CurrentView"}}
		<div class="form-group"> <!-- First input field is the logo-->
			<a class="navbar-brand" href="#">MPS Forensics</a> <!-- Adding images by the class navbar-brand, see .css -->
		</div>
		<div class="form-group"> <!-- Second input field is the sample result-->
			{{> afQuickField id="sampleSelect" name="sample" input-col-class="col-xs-9" label-class="sr-only"}} <!--comerc:autoform-selectize-->
		</div>
		<div class="form-group"> <!-- Third input field is the panel-->
			{{> afQuickField id="layoutSelect" name="layout" input-col-class="col-xs-4" label-class="sr-only"}} <!--comerc:autoform-selectize-->
		</div>
		{{/autoForm}}
	</div>
	<!-- Insert a "Sign up" button to the right in the nav bar -->
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav navbar-right"> 
			{{> loginButtons}} <!-- user login template provided by accounts-ui -->
		</ul>
	</div>
	</form>
</div>
</template>

<!-- Additional markup to the login dropdown to edit the user's account and profile -->
<template name="_loginButtonsAdditionalLoggedInDropdownActions">
    <button class="btn btn-default btn-block" id="login-buttons-edit-profile">Edit profile</button>
				   <!-- A block level button spans the entire width of the parent element-->
</template>

<template name="home">
</template>

<template name="notes">
	{{#autoForm id="notesForm" collection="Notes"}}
		{{> afQuickField name="notes"}}
	{{/autoForm}}
</template>

<template name="lobstr">
	<div id="containerChart0" style="min-width: 300px; height: 250px;"></div> <!-- 7. working on STR charts, height:110px (original) -->
	<div id="containerChart1" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart2" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart3" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart4" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart5" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart6" style="min-width: 300px; height: 250px;"></div>
	<div id="containerChart7" style="min-width: 300px; height: 250px;"></div>
	<div> {{>notes}} </div>
</template>

<template name="snptable">
	<div class="inner" style="width:100%">
	<table class="table table-bordered" id="SNPtable" align="center"> <!-- 6. Add border on all sides of SNP table cells -->
	<tbody>
	<tr> <!--<tr> tag defines a row in an HTML table -->
	{{#each snps}}
		<td>
			<!-- rsID -->
			<!--<a target="_blank" href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?searchType=adhoc_search&type=rs&rs={{rsid}}">{{rsid}}</a><br/> -->
			<a href="#" class="linkage-to-igv">{{rsid}}</a><br/> <!-- 4. Add the linkage of SNP to IGV -->
			<!-- SNP genotypes -->
			<strong style="font-size:35px;">
				<!-- 1. Add reference and alternative allele info above the graph.-->
				<!-- 1. Set a data-placement attribute as "auto" to let the browser decide the position of the popover -->
				<a id="{{rsid}}" href="#" data-toggle="popover" data-placement="auto" data-content="<div>Reference allele: {{ref}}<br/>Alternative allele: {{alt}}</div><br/><div id='{{rsid}}con' style='min-width:300px; height:300px'></div>" title="{{rsid}}" ref="{{ref}}" refC="{{refCount}}" alt="{{alt}}" altC="{{altCount}}">{{geno1}} {{geno2}}</a>
			</strong>
		</td>
	{{/each}}
	</tr>
	</tbody>
	</table>
	</div>
	<div>
		{{>notes}}
	</div>
</template>

<!-- not used in .JS -->
<template name="strchart"> 
	<div class="containerChartStr" style="min-width: 400px; height: 400px;"></div>
	{{>notes}}
</template>
